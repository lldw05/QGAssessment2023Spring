# Daily Progress Of Final Assessment  
  
## Day1  

考核第一天，上午接完任务，下午就在选题和设计表，设计表不能掉以轻心，很可能有很多没考虑到的字段，后面建完表再更改就会很麻烦，需全面考虑整个项目各个功能的具体实现，表的设计才能下最终定论。  
功能细分，构思需要什么接口等等，也和表有关系，表的字段设计充足，有利于功能的实现  
晚上归总了所有功能，写了一点点功能的具体实现的步骤，其中发现表设计还存在缺漏，立马弥补缺漏  
  
## Day2  

第二天，再次进行了表的审查，补充了一些有必要的字段名，完善了表结构，基本完成设计表再翻看考核要求发现java8新特性Stream特别好使，能简化对集合的处理，临时赶忙学了Stream流并做了笔记，并对部分功能的具体实现进行了分析，剖析需要哪些接口，并记录在文档里  
  
## Day3  

第三天，确定表结构无误之后，创建表，并一一对应设计了实体类，其中要注意的是Mysql中的int对应Java中的数据类型为Integer，第一次做项目，难免犯错，幸好即使修改，另外 还看了Java8新特性的时间类和Optional类，虽然做了一定的笔记，但在项目中还不知道具体怎么使用  
另外 准备开始写登录和注册功能，希望明天能完成3个功能吧

## Day4  

实现登录功能时出现错误，即使对Dao层进行了查漏补缺，发现是字符串"null"转成Integer类型时出现错误，但又不报错，（好阴险），幸好及时发现及时解决掉，原本是Object类型的数据，但我强转成了String类型，导致出错，取消转换成String类型，进而继续使用Object类型进行传输  
刚刚又对表结构进行了补充，给部分字段设置了默认值

2023-04-18 23:42:41  
下午写了用户的登录注册功能，写了不少dao层的代码，晚上编写注册店铺功能，但发现UserDao层中的update功能出错，sql语句处理错误，明天进行修改  
  
## Day5  

今天修改了昨天的关于sql的update语句，发现是...sql语句多写了个table...  
修改了JDBCUtils类，新学会了使用prepareStatement获取自增主键的值，实在是太方便了  
今晚完成了商店模块的展示信息，展示商品，新增商品等功能，虽然都是关于商店的功能，但设计到很多别的模块比如user，goods，message等等，从Servlet到service到dao都顺便写了不少内容，可以减少后期的压力，其中还写了关于message的常量类，测试前端到后台的数据传输过程还用postman记录了接口文档，  
  
## Day6  

白天实现了五个功能，分别是商店发布动态，用户添加评论，查看商品评论，添加购物车，批量删除购物车，在商店发布动态的时候，发现前端json传进来的时间和LocalDateTime有区别，无法利用fastJSON快速生成类的对象,想过用键值对但又因为前端传来的时间类中存在':'字符,利用该字符来切割json数据中的键与值会比较麻烦，最后想到了用StringBuffer来处理字符串，将前端传进来的时间类中加上字符'T'，完成了转换,进而实现了前后端传输时间类的小困难  
  
## Day7

刚刚实现了了订单的批量添加功能，在想给订单设置状态(未发货、已发货、已收货、售后等等)是放在Service层还是dao层，理论上dao层应该只负责调用jdbc来进行增删改查，设置订单状态应该由Service层来完成，但如果订单数量多的话，需要再service加一个for循环来遍历，不够高效，干脆放在了dao层，在写sql语句的时候顺便设置状态  

刚刚实现查询用户信息时，原本是返回整个user对象包括密码和支付密码等敏感信息，但想到重要的信息不能泄露，所以上网寻找办法，找到了可以使用fastJSON的注解，在将user对象序列化时排除字段
  
```Java
    @JSONField(serialize = false)
    private String password;

    @JSONField(serialize = false)
    private String payPassword;
```  

像这样给user类中的password和payPassword属性标上注释，
这两个属性就不会传送到前端导致敏感信息泄露  
  
## Day8  

今天完成了更新订单功能，搜索商品功能，添加关注商品功能  
  
1. 在搜索商品功能中，使用了sql中的like关键字 如  

```mysql  
like '%goodsName%'
```  

就可以完成通过输入的内容来查找相关的商品  

2. 在更新订单功能中，因为无法判断订单哪些信息是需要修改的，那就将需orderForm传入时，需要修改的属性传入，不需要修改的属性则设为空，将整个orderForm对象传到dao层，进而将不为空的属性，写到sql语句中，进行修改  

## Day9

下午完成了店铺发布动态的同时系统给店铺的粉丝发送提醒信息的功能，发现MessageService层的addMessage方法耦合度过高，
各种信息的添加都合起来放在了该方法中，于是及时将添加不同信息的方法分开写成多个方法，进行解耦  
今天完成了许多功能如  

1. 聊天室，可以查询聊天室信息，发送聊天室信息  
2. 店铺审批，可以查询店铺注册申请，审批店铺注册申请
3. 新品上市，管理员可以查询新品上市的信息，进行审批
4. 投诉信息，用户可以新增投诉信息，管理员进行查询和处理投诉举报信息  
   
## Day10
完成了前端登录注册页面的编写，进行了中期考核，经过对比发现我的进度较慢，仍需加把劲  
  
## Day11  
今天尝试了手写spring框架中的ioc控制反转和di依赖注入，但出了一点小问题，暂时还没能够完成，决定先马上开始写前端，毕竟我的进度已经很慢了，但由于没有系统性的学习过前端，只能跟着视频一步步走，照猫画虎做出了部分主页的样式，但还没能够和后台连接起来。  
终于，实现了前后端的连接  
  
## Day12
研究了一天，经历各种碰壁，用于实现了jwt和filter的接口，首先是编写了jwtUtil工具类，用来获取jwt令牌和解析令牌，其中还将一些常量放在了配置文件中而不是直接以魔法值的形式出现在代码中，然后基于jwt，结合filter实现了初步拦截功能，后来将会在这基础上，再实现多用户多角色权限的管理。  
  
## Day13  
完成了login和register到主页的连接，实现验证码登录，还实现了主页的搜索商品功能等等  
  
## Day14  
今天完成了前后端部分功能的接连，明天加大火力，猛冲了
